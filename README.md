# Сокращение ссылок с помощью VK

Код позволяет создавать сокращенные ссылки через VK API, а также позволяет проверить статистику кликов по уже сокращённым ссылкам.

## Как пользоваться:

#### Нужно подготовить:

 Устанавливаем [Python 3](https://www.python.org/downloads/). Также заводим аккаунт в [VK](https://vk.com)
 Затем используем 'pip' (или 'pip3', есть конфликт с Python2)

### Установка программы:

Клонируем репозиторий (если нужно),
а именно заходим в командную строку (win+R, после вводим cmd и Enter)
и вводим:
1) git clone https://github.com/Nickglumov/API-3  
2) cd vk-short-link-tool

#### Создаем и активируем виртуальное окружение:
python -m venv venv

#### Устанавливаем зависимости:
pip install -r requirements.txt

#### Настройка переменных окружения:
Создайте в папке с программой файл с названием .env и записать в него токен

#### Для получение ключа доступа (токена):

-Зайти в раздел приложений ВК (нужно быть авторизованным);  
-Нажать "Создать приложение";  
-Выбрать тип "Standalone-приложение";  
-В настройках приложения найти раздел "Рабочий токен" и скопировать его.  

#### Как указать токен:

Создайте файл .env в корне проекта и добавьте туда токен:  
VK_TOKEN=токен_от_VK

### Как работает код:
 
После установки и настройки .env, запустите скрипт в командной строке:

'python api-2.py'

Введите ссылку по запросу в консоли.
Скрипт сам определит, нужно ли:  
сократить ссылку, если она обычная или
показать количество кликов, если она уже короткая от VK.

#### Пример работы кода:
Пример 1: обычная ссылка  
Введите ссылку: (https://example.co)  
Сокращенная ссылка: (https://vk.cc/abc123)  

Пример 2: короткая ссылка от VK  
Введите ссылку: (https://vk.cc/abc123)  
Количество кликов: 2  

## Переменные окружения:

Программа использует одну переменную окружения — VK_TOKEN.

#### VK_TOKEN
Это токен доступа к API ВКонтакте, который нужен для работы со ссылками — сокращения и получения статистики.

Что в ней лежит:
Строка-ключ, которую вы получаете через [VK OAuth](vkhost.github.io).

#### Как влияет на работу:
Без этой переменной программа не сможет обращаться к API VK, и при запуске выдаст ошибку:
ValueError: Переменная окружения VK_TOKEN не найдена.

#### Как задать VK_TOKEN
Создайте рядом со скриптом файл .env, и вставьте туда:
VK_TOKEN=ваш_токен_от_VK  
Пример:  
VK_TOKEN=3f4d1ab23489f2e9ac7bd8a3f0e73e8a4b91a0cfxxxxxxxxxxxxxxxxx


### Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).
